const width = 25;
const height = 6;
const image = '2222222222022222222212120122222022022210222222222221222202222021210022222222202022222222222222222222122222222222220222222002222222222202222222222221122222222222122222222222021222222222222221222222222222222212222221221122222222202122222222222222222222122222222212220222222202222222222222222222222221022222222222122222222202022122222222022202222222222221222202222022211222222222202122222222222222222222022222222202222222222212222222222202222222222222122222222222222222222202021022222222022201222122222220222222222120220122222222202222222222222222222222122222222212220222222222222222222212222222222221122222222222222222222212121022222122122202222122222221222222222220210022222222202020222222222222222222222222222222221222222112222022222212222222222222022222222222122222222212121122222221222221222222222222222212222022212222222222202120222222222222222222122222222222220222222122222222222212222222222221222222222222122222222202020102222021022201222122222220222222222122220022222222222021222222222222222222222222222212220222222112222222222202222222222220022222222222122222222222020'+
'0022220201222102220222222212222122222202102222222222022202222222222222222221222222222022222222222222222222222022222222222201222222222221222222222222221122220202222202222222222222222122221212211222222222022212222222222222222221222222220122212222220022220222222222222222222202222222222220222222222122210222220210222202221222222202222022222212011222222222022212222222222212222221222222221222212222220022220222222222222222222202222222222222222222222021221222220220222112220222222202222122222222021222222222022222222222222202222221222222221022212222222122220222222022222222222200222222212221222222222221221022222200222212222222222202222022221212220222222222220222222222222212222221222222221022222222221122220222222222222222222211222222202220222222222120200222222210222222220222222222222122222222220222222222121202222222222212222220222222222222202222221022220222222222222222222211222222212222222222222122221222220220222122220222222212222122221222020222222222121202222222222222222221222222220122222222221022221222222122222222222200222222202220222222022220222022220201222202220222222212222022221222'+
'2002222222220212022222222222022222202222222220221122222210222212222222222222222222112222222122212222222222222002222202102222022212222222222221222202020102222222221202222222222222022222212222222220221122222202202212222222222222222222212222222222202222221220202110222222222221122212222222122221222222120122222222222212122222222222222222212222222222221122222200212202222220222222222222202222222122222222222222202112222212112221122222222222122222222222022012222222220202022222222222022222202222220220220022222212202212222222222222222222022222222122222222220222202220222122112221122212222222222221222222222112222222220202122222222222122222222222220202222022222212222212222222222222222212212222222022212222221222222011222022202220122212222222222222222212122122222222220222222222222222122222202222222200220222222222202202222221222222222212112222222222222222222220212122222002212220022202222222022220222212120112222222221202222222222222122222222222222210220022222201202212222220222222222202202222222222212222222220212010222222202222122202222222122220222202121222222222220222122222222222122222012222'+
'2212202222222222112122122222202212222222220022222220222022222202202021012222121222202222122222220222212222122212022221222202020222222222222222222122222202112202222222012222022222222222222222120222222220222022222222212021102222022122222222122222221222222222020221122221222222020222222222220222220222222212212200222222212222022222202202222222122122222220222202222212222220112220021222212222122222220222202222002212022222222222122222222222222222221122222202002220222122112222022222212222222222022222222222222002222202222221212220121222201222122222221222222222000200222222222202221222222222222222222122222222122222222122102222022222212222222222020002222222222112202222222022202221220022210222022222222222202222120220022221222202222222222222220222221022222212012201222222122022022222212222222222021112222222222012211202202222002221220222202222022222220222222222220210022220222212222222222222222222220122222202102200222122102022022222202222222222222222222222222212220222202222112221221122221222222202220222202222022212222222222222222222222222222222221222222222000220222122002022222222222222222222'+
'0200222222222220222222222222202122222211222212222222022202222022220002011222222222120222222222222202222220222222120202102222220020222222212122222222222201022222202222222202222120200120221222222002202222222212222122222112120222222222022222222221222222222220222222122112102221220220221222212022122222222201122222222222222012222022200122201222222022211222222202222122221122210222202222022212222221222222222202222222220002012221220220220222212122022222222211222222222222222102222222222122211222222202202222122202222122220122110222202222122202222221222222222200222222021222012221220222221022202222222222222221222222222222122112222020200122220202222001222222222202222022220122000222202222222212222222222202222212222222022202012221021122220122222122022222221201022222202220222122022020201221221211222101220222122202222022220212112222202222120212222221222222222200222222122012202220121220222222212022222222222211122222212221222102122220211022200201222001212222122222222122220112201222222222121202222221222222222200222222022012212220121020220222202122022022222221122222202220122202122220200121210221'+
'2221202212220222012221222200021122222022222212122222002222222222202222222220122022210211202222222120221220222202000222222122210220021220222220202022112220222112222222122220222201020102222222222202222222222222122222102222222210020022200210202212222121222221222212120222222222210210120220222110222102222220212222220222102220222212121222222022220212222222012222022222122222221202021122201202222200222121220221222222012222222122201202121221202222202202222221212222222222212220222220221022222120221212122222222222122222212222222212021122202222222211222121220220222202001222222122210211121220222010202202112221012222221222202222222201222222222121220212122222212222122222212222221201021122202201212222222120222221222202211222222122201221202221202121222212212221022212222222102220222200120022222221222012022222012222222222122222220212222222220212212220222221221220222212211222222122222220100220202221202102002022112102220222002220222221021122222122222112022222012222122222002222222221022122222212222211222221220221222222012222222122222211112220222212212202022222202222222222222222202222022102222122'+
'2221020222220022220222221122222222220200222102222222002222212202222222221212222221222002001202222220022021022220222222222222221122222022011201122221222021221222222122222222220122222202110212222122022222022221202212022222022002222221222002020012222220012120021121221121022222221222222122202221022222202100220222221222222222220122222202221202222112012222122221222222102222021212222220222122011012202022102121221021211221022212220222222022122200022220212210220222222222221222221122222202221211222122022022102220222202122222120222222220222202120202222120202021020220212120022202220222212122101201122222202201221122221222221222220222222212121202222112122222102220212202202222220202222222222022100022202020002022022121222121222212221022212122201201222022202221222222222022221222222022222222101201222122202022122220222212102222022012222221222212210202222021202220021122200021022212212022202122202200022021212012022022220222222222222122222201222212222002212022100221202212112222221002222222222102010022212122002120021022211220022212020122202022010200222121212021221122222122222222220022222222122200'+
'2222021122222012202122020222222222122222212221122120022221211220210222212001200222021212222021220010212222212121102200222221222212222211222022110212202222020222220002212022221122221201022222222220120011222021221121222201222110202222020221222221222002020222212021200200222200222002222202222022221202102221122122220022212222021022220202022222212221221020022221202221220212202201202222122201222020220122211222212020011220222221222122222220222222200212022220121021221112202022122122222200122222202221221011122222211102222222212001220222222202222220221222202222212122222210222220222202222202222222100112222200222022222112202122120122220201122222222220222111122020221112200220202121221222122211222222220202112222222021111201222220222112222222222022000212002201020222220002212122220222221211122222202220122022022221202021220202222010222222120201222121222012122221202021112221222200222222222200222012121212222201121022220002222022021022221210022222212220120122022121210000201200212200201222121120222020220110210220212222020221222200222022222211222022122012202202222220222022212022222022222201022222'+
'2222212220100222212101012222112220102002221221102222222220212222212222201212002222202221222222122221120111120022001212202200122121220211222212001222222022200222121221202000122122212221212222222210102221222200111222212021212002002222112220222222222222221101222022111222212200222120220210222212012222222022200220000222202101022102112020202122222211002220222220020202202022222102212222012221222222120222120020021122001212202222222022222222222202020222222122220222201221222201002112022022212202221222102220202201122112212122200202222222202220122222201221222110021222011220202221222022222221222202112222222122212211110220212220122202202122212222220221112220202200112102222221202222212222122221222222020021122011122122021221212211122221221200222212001222222222202221220222102110022212102122102212220210212221202221212122212022211102212222122221020222120020020222020222010210202220122022220212212222210222222222201221112221202222222102202021102002222212012221212210021012202020200022122222222221121222221022220020022022011210212220122221222202202212112222222222202222222222102201112112022221212122'+
'2212102222212022110220122020212212020122221022221222220122220221110210222212112022102222202212212022022202222220222002000212210221102121122220220022222212222222222222101011222121202220020122221122220202220102212222222212221012202122200221202212212022222112222220222202110012200021112221221220210121122212200222202122012220122221222222022222220022210222221012221201122210222202112122112220202212222022212222222222222022221002200222220120122021220022022212102222222122000221022020202220121122222122220212222112212222002211220202002022101211222212002222101112222220222012100212212222220222120121221020122222100022202222110021122020212111221222221222212202221111202220011201220222012122120222212222212222212122222222222022212012200222101222221122202221022202212122212022010011022220222020022022221122201202221200201212112220221022122122210210222202022122212002212221222102002022200121210222121120220020202212002022212222002220222020212201220022222222221212222122220202100210121212012022221212222202122122222102102220222022010122201021111221020221221120222202202022222102211000122120212121222222'+
'2210222012122220222102011102211212021120222112022222221020222122111022212222021022122122202001220201202100222122220002222122122011201222212122001202222200222122122211222012102212001200022222220012102222122221220020120122212201120110222011210220211201212202211222222020222021220112120222222022000222222221212212222201012222200022222201222120222202012122021022222101200022212200212000122200210220211220222101202122022220222222021201111221202121201222222220222102222212112222201212222201021220222222122022120221221212122122012210210211122102221211221221202121221022021201222021221020101222202220121221222221222222122212202112001122200212222220221122022022120022221102220222112201002111222121210211201211222221210222020021222022020110221220012221022222222221222122222202102212111102121222121122222002002022120121220200110222222201121010222100220111211210212000211220021121222120221220002222022220201210222200212022122220002122101222122212120120222012012122121220220222222022122212012212122201222221201212002010210122022102222200221121101221102120021201222221212202022210022112120002202212020221'+
'2200220121221221222200022111220022020002112222102202202022000120022222200210212221012222122122212220201102012222122221222222111221122202121122220222202202121021221222202221011110222022212202111220122220012202011122122011212201022222010210122112201022212122202222012121222222010020120220122212110220202220221222222220202202221010122122011020120220122012012102010221222121200212122221120211202222210120211102012222112220121222220222021101122022101200212211222222222220202220020002021222122112020222022010212102021020222212211222012222120201110122211021200202222222212121021222220022220211020102012220222221120120220202222201010011021122110122110222202210022222201020122021222221212222121212101022201020201012122222202021221222111122221101002122012221222211222021220200202211101002120222211211122222022022102012000122002110211210002221201201211022201020202122122222212002020222212121020222220002121200212221021122222210222201100021120222211122010220202011110112010221112120221222212222001221100202220121221002022222102012022222100220221122202022201210212200120222221210212222101200221222012021'+
'0102212222022122022202222122222212211022222012122112022110202012222122221022121212222222212201210100121102222222200201222202222022221201021220220102211102221221110011022000212222112112122022120212200020222022212122222022220221202202222020200211110211120102112022101201222222012222011222022200220211201002202112202211122010200220002202210022000022001121122221212210120222220222000222220212220220000010221122022222211200222202112122201011222221220120001002201002220112121011201122122222101122200002121021022212212111121122201122102212220012022221112100220102002222211200202222202022101201112200221211001112201010021212022001222121122102112022121112201110120100222000021022210120020222222021101220010221020212100212201200222222012222202211002210222220012122222201211101120001212221202022012220001002010112220212212201120122220120021212222202121201201010222002210100011222212202012122200201022202221221020022200110010201221200201021002202201121000212011010220211212022220022202102120202220222211221002120220112210101212202202212102022121101001222222202200002222020201212021221201121222122201021'+
'11211201100112020222222202012221202222220222212212122010001102201202002010120220221210202202112012020212202221112122201122012022222121222201210221002010221210001222221020212122012222002211022202200001221100001112022201001211122020222212212220222121120102111121221120102011210202022121102201211200122112202221221222012121201212212221122011221202221101222221012020210211211122022120222210202202100110121012121012221222222001112102101021202200022210222100220222021212102120221012002221222012000222100010121122122102212221200122020022211222202220122121220102220100110122121012011202220120012220011222202110010221001112112200201122212221220200111222112101121010022112002212222120221022220210222222122000002020211200020200211120221010102002110221012122120221122011202001022222110101001001220022201110120122001020002021112122212120201011001001100010110';

let layers = [];
let i = 0;
let min0s = Infinity;
let minSum;
while(i < image.length) {
  const layer = [];
  let counts = [0, 0, 0];
  for (let x = 0; x < height; x++) {
    const row = [];
    for (let y = 0; y < width; y++) {
      let pixel = Number(image[i]);
      row.push(pixel);
      counts[pixel]++;
      i++;
    }
    layer.push(row);
  }
  layers.push(layer);
  if(counts[0] < min0s) {
    min0s = counts[0];
    minSum = counts[1] * counts[2];
  }
}
console.log(`Checksum: ${minSum}`);

const result = [];
for (let x = 0; x < height; x++) {
  result.push([]);
}
layers.forEach((l) => {
  for (let x = 0; x < height; x++) {
    for (let y = 0; y < width; y++) {
      if (result[x][y] !== undefined) { 
        // already found this one
        continue; 
      } else if (l[x][y] === 2) {
        // transparent
        continue;
      } else {
        result[x][y] = l[x][y];
      }
    }
  }
});

// print result
let print = '';
for (let x = 0; x < height; x++) {
  for (let y = 0; y < width; y++) {
    print += result[x][y] ? 'X' : ' ';
  }
  print += '\n';
}
console.log(print);